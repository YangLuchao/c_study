[toc]

# 概述

## 磁盘文件的分类

计算机的存储在物理上是二进制的，所以物理上所有的磁盘文件本质上都是一样的：以字节为单位进行顺序存储。

![磁盘上的文件](https://raw.githubusercontent.com/YangLuchao/c_study/main/%E5%9B%BE/%E5%AD%98%E5%82%A8%E7%9A%84%E6%96%87%E4%BB%B6.png)

从用户或者操作系统使用的角度（逻辑上）把文件分为：

-   文本文件：基于字符编码的文件  

-   二进制文件：基于值编码的文件

## 文本文件和二进制文件

### 文本文件

基于字符编码，常见编码有ASCII、UNICODE等，一般可以使用文本编辑器直接打开，以ASCII存储形式(ASCII码)为：00110101 00110110 00110111 00111000

### 二进制文件

基于值编码,自己根据具体应用,指定某个值是什么意思，把内存中的数据按其在内存中的存储形式原样输出到磁盘上，存储形式(二进制码)为：00010110 00101110

# 文件的打开和关闭

==在C语言中用一个指针变量指向一个文件，这个指针称为文件指针==

```c
typedef struct
{
	short           level;	//缓冲区"满"或者"空"的程度 
	unsigned        flags;	//文件状态标志 
	char            fd;		//文件描述符
	unsigned char   hold;	//如无缓冲区不读取字符
	short           bsize;	//缓冲区的大小
	unsigned char   *buffer;//数据缓冲区的位置 
	unsigned        ar;	 //指针，当前的指向 
	unsigned        istemp;	//临时文件，指示器
	short           token;	//用于有效性的检查 
} FILE;
```

==FILE是系统使用typedef定义出来的有关文件信息的一种结构体类型，结构中含有文件名、文件状态和文件当前位置等信息。==

声明FILE结构体类型的信息包含在头文件“stdio.h”中，一般设置一个指向FILE类型变量的指针变量，然后通过它来引用这些FILE类型变量。通过文件指针就可对它所指的文件进行各种操作。 